# PostgreSQL 모니터링 및 자동 복구 Cron 설정
# 이 파일을 crontab에 추가하세요: crontab -e

# 매시간 헬스체크 및 필요시 자동 복구
0 * * * * /home/wjadmin/Dev/text-to-sql/postgre/postgres-health-check.sh --cron

# 매일 새벽 2시 자동 백업
0 2 * * * /home/wjadmin/Dev/text-to-sql/postgre/postgres-backup.sh auto

# 매주 일요일 새벽 3시 컨테이너 재시작 (메모리 정리)
0 3 * * 0 docker restart northwind-postgres

# 매일 새벽 4시 로그 파일 압축 (로그 파일이 너무 커지지 않도록)
0 4 * * * find /home/wjadmin/Dev/text-to-sql/logs -name "*.log" -size +100M -exec gzip {} \;
